データファイルの文法
=====================

座標
----

水平方向の座標xと、鉛直方向の座標yを左側パネルの点を表すものとして用います。座標の範囲は-1/s <= x, y < 1/s となっております。ここにsはスケール因子と呼ぶデフォルト値1の値です。

また右側のパネルでは、逆空間の座標kx, kyがx, yに対応します。変数の範囲は-0.425 N z <= kx, ky < 0.425 N z となっていて、Nは左側パネルの軸方向の解像度（デフォルト値100）、zはズームアウト因子と呼ぶデフォルト値1の値です。0.425という固定値には特に深い意味はなく、0.5よりもある程度小さい値としてなんとなく選ばれたものです。


設定
----
* `scale num` はスケール因子をnumに設定します。
* `zoomout num` はズームアウト因子をnumに設定します。
* `intensity num` は回折パターンのコントラストを決める因子をnumに設定します。この因子が大きいとき、右側のパネルは回折シグナルに対し敏感になり、より飽和しやすくなります。

変数
----
* `v1 init diff` は上下の矢印キーで制御できる変数を設定します。初期値はinitで、増分はdiffで指定されます。これにより v1 をパターン指定の際に値として使うことができます。'v'で始まるラベルなら同じように動作します。また複数のラベルを共存させることが可能です。
* `h1 init diff` は左右の矢印キーで制御できる変数を設定します。また'h'で始まるラベルなら同じように動作します。

パターンの要素
--------------
* `f1 g` はグレイスケールの色 g (0: 黒、255:白) を後に続く要素のために指定するものです。
* `f3 r g b` はRGBカラーを後に続く要素のために指定します。
* `rr x y angle` は横に長いスリットを中心が(x, y)に来るように置くためのコマンドです。またスリットは、angleで指定された角度回転します。
* `circ x y r` は半径rの円を中心が(x, y)に来るように置きます。
* `img5 filename x y s1 s2` はfilename で指定されたファイル(.gif, .jpg, .tga, .png)の画像を中心が(x, y)に来るように置きます。またこの時、画像は横方向にs1倍、縦方向にs2倍に引きのばされます。
* `img filename x y` は引きのばし無しに画像を置きます。`img5 filename x y 1 1`と同じ動作です。

コメント
--------
文頭に`#`を置くことで行をコメントアウトすることができます。

データリスト
-----------
`data/datalist.txt` にパターンファイルのリストを置く必要があります。プログラムはリストの先頭からパターンを表示していきます。もし新しいパターンを作った場合は、このリストに追加しないと表示されませんので気をつけて下さい。